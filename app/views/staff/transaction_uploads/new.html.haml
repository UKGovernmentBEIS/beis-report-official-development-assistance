= content_for :page_title_prefix, t("page_title.transaction.upload")

%main.govuk-main-wrapper#main-content{ role: "main" }
  .govuk-grid-row
    .govuk-grid-column-two-thirds
      %h1.govuk-heading-xl
        = t("page_title.transaction.upload")

      = t("page_content.transactions.upload.copy_html", report_actuals_template_path: report_transaction_upload_path(@report_presenter, format: :csv))

  .govuk-grid-row
    .govuk-grid-column-two-thirds
      - if policy(@report_presenter).upload?
        .govuk-body.upload-form
          = form_for @report_presenter, url: report_transaction_upload_path(@report_presenter) do |f|

            = f.govuk_file_field :transaction_csv,
              label: { text: t("form.label.transaction.csv_file") },
              hint: { text: t("form.hint.transaction.csv_file") }

            = f.govuk_submit t("action.transaction.upload.button")
      - else
        %h2.govuk-heading-m= t("form.label.transaction.csv_file")

        %p.govuk-body
          = "This report is #{@report_presenter.state.downcase}, so CSV upload is unavailable."
